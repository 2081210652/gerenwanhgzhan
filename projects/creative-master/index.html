<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>创意大师 - AI爆款素材创作平台</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- ==================== 顶部导航栏 (h-70px 固定) ==================== -->
    <nav class="top-nav">
        <div class="nav-left">
            <!-- Logo -->
            <a href="index.html" class="nav-logo">
                <span class="logo-icon">🎨</span>
                <span class="logo-text">创意大师</span>
            </a>
            <!-- 产品矩阵下拉 -->
            <div class="product-dropdown">
                <button class="dropdown-trigger">
                    <span class="grid-icon">⊞</span>
                </button>
            </div>
        </div>
        
        <!-- 导航菜单 -->
        <div class="nav-menu">
            <a href="#" class="nav-item active">创意大师</a>
            <a href="#" class="nav-item has-dropdown">
                AI工具
                <span class="dropdown-arrow">▾</span>
            </a>
            <a href="#" class="nav-item has-dropdown">
                创作资产
                <span class="dropdown-arrow">▾</span>
            </a>
            <span class="nav-divider"></span>
            <a href="#" class="nav-item external">
                蝉妈妈创意
                <span class="external-badge">NEW</span>
            </a>
        </div>
        
        <div class="nav-right">
            <!-- 登录按钮 -->
            <button class="login-btn" id="login-btn">注册/登录</button>
        </div>
    </nav>

    <!-- ==================== 主框架 ==================== -->
    <div class="main-frame">
        <!-- 右侧固定按钮组 -->
        <div class="fixed-btns">
            <div class="fixed-btn" id="creation-history-btn">
                <span class="btn-text">创作记录</span>
                <kbd>K</kbd>
            </div>
        </div>

        <!-- 滚动内容区 -->
        <div class="scroll-container" id="scroll-container">
            <!-- ========== Banner 视频区域 ========== -->
            <section class="banner-section">
                <div class="video-list">
                    <video class="banner-video active" muted loop playsinline autoplay data-index="0">
                        <source src="../../1_水头绅士.mp4" type="video/mp4">
                    </video>
                    <video class="banner-video" muted loop playsinline data-index="1">
                        <source src="../../2_花瓣舞动.mp4" type="video/mp4">
                    </video>
                    <video class="banner-video" muted loop playsinline data-index="2">
                        <source src="../../3_舞动蘑菇.mp4" type="video/mp4">
                    </video>
                    <video class="banner-video" muted loop playsinline data-index="3">
                        <source src="../../4_宇航员.mp4" type="video/mp4">
                    </video>
                </div>
                <div class="banner-overlay"></div>
                <div class="banner-content">
                    <h1 class="banner-title">创意大师</h1>
                    <p class="banner-slogan">解锁新奇创意，让视频内容"脑洞"大开</p>
                </div>
                <!-- 轮播指示器 -->
                <div class="carousel-indicators">
                    <span class="indicator active" data-index="0"></span>
                    <span class="indicator" data-index="1"></span>
                    <span class="indicator" data-index="2"></span>
                    <span class="indicator" data-index="3"></span>
                </div>
            </section>

            <!-- ========== 内容主体区域 ========== -->
            <section class="content-section">
                <!-- 粘性头部 -->
                <div class="sticky-header">
                    <!-- 第一行：Tab 切换 + 定制按钮 -->
                    <div class="header-row-1">
                        <div class="tab-switcher">
                            <button class="tab-btn" data-mode="templates">做商品素材</button>
                            <button class="tab-btn active" data-mode="cases">看跑量案例</button>
                        </div>
                        <button class="custom-btn" id="custom-template-btn">
                            <span class="btn-icon">✏️</span>
                            定制模版
                        </button>
                    </div>
                    
                    <!-- 第二行：筛选标签 + 操作区 -->
                    <div class="header-row-2">
                        <!-- 左侧筛选标签 -->
                        <div class="filter-tags" id="filter-tags">
                            <!-- 做商品素材 的筛选 -->
                            <div class="filter-group templates-filters" style="display: none;">
                                <span class="filter-tag active" data-category="all">全部</span>
                                <span class="filter-tag" data-category="hot">热门精选</span>
                                <span class="filter-tag" data-category="newyear">年货节专辑</span>
                                <span class="filter-tag" data-category="general">通用品类</span>
                                <span class="filter-tag" data-category="festival">节日氛围</span>
                                <span class="filter-tag" data-category="beauty">美妆护肤</span>
                                <span class="filter-tag" data-category="home">日化家清</span>
                                <span class="filter-tag" data-category="food">食品饮料</span>
                            </div>
                            <!-- 看跑量案例 的筛选 -->
                            <div class="filter-group cases-filters">
                                <span class="filter-tag active" data-category="all">全部</span>
                                <span class="filter-tag" data-category="beauty">美妆护肤</span>
                                <span class="filter-tag" data-category="home">日化家清</span>
                                <span class="filter-tag" data-category="medical">医药保健</span>
                                <span class="filter-tag" data-category="clothing">鞋靴服饰</span>
                                <span class="filter-tag" data-category="food">食品饮料</span>
                                <span class="filter-tag" data-category="digital">数码3C</span>
                                <span class="filter-tag" data-category="mother">母婴用品</span>
                                <span class="filter-tag" data-category="pet">宠物用品</span>
                            </div>
                        </div>
                        
                        <!-- 右侧操作区 -->
                        <div class="header-actions">
                            <!-- 搜索框 -->
                            <div class="search-box">
                                <span class="search-icon">🔍</span>
                                <input type="text" class="search-input" placeholder="请输入关键字">
                            </div>
                            <!-- 排序下拉 -->
                            <div class="sort-dropdown">
                                <button class="sort-btn">
                                    <span class="sort-text">综合排序</span>
                                    <span class="sort-arrow">▾</span>
                                </button>
                                <div class="sort-menu">
                                    <div class="sort-item active" data-sort="default">综合排序</div>
                                    <div class="sort-item" data-sort="newest">最新排序</div>
                                    <div class="sort-item" data-sort="hottest">最热排序</div>
                                </div>
                            </div>
                            <!-- 收藏复选框 -->
                            <label class="favorite-checkbox">
                                <input type="checkbox" id="show-favorites">
                                <span class="checkbox-custom"></span>
                                <span class="checkbox-label">我的收藏</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- 卡片网格区域 -->
                <div class="card-grid-wrapper">
                    <!-- 做商品素材 -->
                    <div class="card-grid template-grid" id="template-grid" style="display: none;">
                        <!-- 动态生成 -->
                    </div>
                    <!-- 看跑量案例 -->
                    <div class="card-grid case-grid" id="case-grid">
                        <!-- 动态生成 -->
                    </div>
                </div>
            </section>
        </div>

        <!-- 右侧悬浮工具 -->
        <div class="float-tools">
            <div class="float-tool-btn" title="联系客服">
                <span class="tool-icon">💬</span>
            </div>
            <div class="float-tool-btn" title="定制服务">
                <span class="tool-icon">✨</span>
            </div>
        </div>
    </div>

    <!-- ==================== 弹窗区域 ==================== -->
    <!-- 模板详情弹窗 -->
    <div class="modal-overlay" id="template-modal">
        <div class="modal-container template-detail-modal">
            <button class="modal-back-btn" onclick="closeTemplateModal()">← 返回</button>
            <div class="modal-top-right">
                <a href="#" class="creation-history-link">
                    <span>创作记录</span>
                    <kbd>K</kbd>
                </a>
            </div>
            <div class="modal-content template-content">
                <div class="preview-area">
                    <div class="video-preview-container">
                        <video id="template-preview-video" loop muted playsinline></video>
                        <img id="template-preview-cover" src="" alt="模板预览">
                    </div>
                    <div class="template-nav">
                        <button class="template-nav-btn" id="prev-template">↑</button>
                        <button class="template-nav-btn" id="next-template">↓</button>
                    </div>
                </div>
                <div class="operation-area">
                    <div class="template-info">
                        <h2 class="template-name" id="modal-template-name">模板名称</h2>
                        <button class="favorite-btn" id="favorite-template-btn">☆</button>
                    </div>
                    <p class="template-desc" id="modal-template-desc">模板描述</p>
                    <div class="template-stats">
                        <span class="stat-item">已生成<strong id="modal-usage-count">0</strong></span>
                        <span class="stat-divider">|</span>
                        <span class="stat-item ai-tag">内容由AI生成</span>
                    </div>
                    <div class="upload-section">
                        <div class="upload-header">
                            <span>上传产品图片</span>
                            <a href="#" class="example-link">ⓘ 示例</a>
                        </div>
                        <div class="upload-area" id="upload-area">
                            <div class="upload-placeholder" id="upload-placeholder">
                                <span class="upload-icon">+</span>
                                <span class="upload-text">点击上传</span>
                                <span class="upload-hint">支持JPG、JPEG、PNG格式</span>
                                <span class="upload-hint">图片比例为3:4或9:16效果最佳</span>
                                <a href="#" class="gallery-link">从商品图库选择</a>
                            </div>
                            <div class="upload-preview" id="upload-preview" style="display: none;">
                                <img id="uploaded-image" src="" alt="已上传图片">
                                <button class="remove-upload-btn" id="remove-upload">✕</button>
                            </div>
                            <input type="file" id="file-input" accept="image/jpeg,image/png,image/jpg" style="display: none;">
                        </div>
                        <div class="recent-uploads">
                            <span class="recent-label">最近常用</span>
                            <div class="recent-list" id="recent-uploads-list"></div>
                        </div>
                    </div>
                    <button class="generate-btn" id="generate-btn" disabled>
                        <span>制作视频</span>
                        <span class="cost-badge">预计💎 <span id="modal-cost">120</span></span>
                    </button>
                    <p class="generate-hint">同一模版再次生成，更多惊喜！</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 案例详情弹窗 -->
    <div class="modal-overlay" id="case-modal">
        <div class="modal-container case-detail-modal">
            <button class="modal-close-btn" onclick="closeCaseModal()">✕</button>
            <div class="modal-content case-content">
                <div class="video-player-area">
                    <div class="platform-selector">
                        <span class="platform-item active">抖音</span>
                        <span class="platform-dropdown">▼</span>
                    </div>
                    <div class="douyin-video-frame">
                        <video id="case-video-player" controls playsinline></video>
                        <div class="video-interaction-bar">
                            <div class="interaction-item">
                                <span class="interaction-icon">❤️</span>
                                <span class="interaction-count" id="video-likes">0</span>
                            </div>
                            <div class="interaction-item">
                                <span class="interaction-icon">💬</span>
                                <span class="interaction-count" id="video-comments">0</span>
                            </div>
                            <div class="interaction-item">
                                <span class="interaction-icon">⭐</span>
                                <span class="interaction-count" id="video-saves">0</span>
                            </div>
                            <div class="interaction-item">
                                <span class="interaction-icon">↗️</span>
                                <span class="interaction-count">分享</span>
                            </div>
                        </div>
                        <div class="video-bottom-info">
                            <div class="author-info">
                                <span class="author-tag">@</span>
                                <span class="author-name" id="video-author">作者</span>
                            </div>
                            <p class="video-title-overlay" id="video-title-overlay">标题</p>
                        </div>
                    </div>
                </div>
                <div class="case-detail-area">
                    <div class="detail-actions">
                        <button class="action-btn outline">📤 分享</button>
                        <button class="action-btn outline">☆ 收藏</button>
                    </div>
                    <h2 class="case-title" id="modal-case-title">案例标题</h2>
                    <div class="case-meta">
                        <span>素材形式: <strong id="case-material-type">-</strong></span>
                        <span>素材尺寸: <strong id="case-size">-</strong></span>
                        <span>发现设备: <strong id="case-device">-</strong></span>
                    </div>
                    <div class="case-author-row">
                        <span class="label">投放达人</span>
                        <a href="#" class="author-link" id="case-author-link">-</a>
                    </div>
                    <div class="stats-grid">
                        <div class="stat-card highlight">
                            <div class="stat-value" id="case-score">0</div>
                            <div class="stat-label">跑量分 <span class="info-icon">ⓘ</span></div>
                            <div class="stat-sub">超过99%同类素材</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="case-days">0天</div>
                            <div class="stat-label">投放天数 <span class="info-icon">ⓘ</span></div>
                            <div class="stat-sub" id="case-date-range">-</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="case-plays-3d">0</div>
                            <div class="stat-label">近3日预估播放量</div>
                            <div class="stat-sub">预估总播放量 <strong id="case-plays-total">0</strong></div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="case-completion">0%</div>
                            <div class="stat-label">5秒完播率</div>
                            <div class="stat-sub">完播率 <strong id="case-full-completion">0%</strong></div>
                        </div>
                    </div>
                    <div class="stats-grid secondary">
                        <div class="stat-card small">
                            <div class="stat-value" id="case-likes">0</div>
                            <div class="stat-label">点赞数</div>
                        </div>
                        <div class="stat-card small">
                            <div class="stat-value" id="case-comments">0</div>
                            <div class="stat-label">评论数</div>
                        </div>
                        <div class="stat-card small">
                            <div class="stat-value" id="case-saves">0</div>
                            <div class="stat-label">收藏数</div>
                        </div>
                        <div class="stat-card small">
                            <div class="stat-value">-</div>
                            <div class="stat-label">受众画像</div>
                        </div>
                    </div>
                    <div class="ai-tools">
                        <button class="ai-tool-btn" onclick="showFeatureToast('提取文案')">📝 提取文案</button>
                        <button class="ai-tool-btn" onclick="showFeatureToast('智能仿号')">🎯 智能仿号</button>
                        <button class="ai-tool-btn primary" onclick="showFeatureToast('智能拉片')">🎬 智能拉片</button>
                        <button class="ai-tool-btn primary" onclick="showFeatureToast('智能编导')">🔍 智能编导</button>
                    </div>
                    <div class="analysis-tabs">
                        <button class="analysis-tab active" data-tab="basic">基础分析</button>
                        <button class="analysis-tab" data-tab="audience">受众画像</button>
                        <button class="analysis-tab" data-tab="related">关联信息</button>
                    </div>
                    <div class="charts-area">
                        <div class="chart-container">
                            <h4 class="chart-title">近7日预估播放量趋势</h4>
                            <p class="chart-subtitle">时间周期为01/10-01/16，每日12:00更新数据</p>
                            <div class="chart-placeholder">
                                <div class="mock-chart">
                                    <div class="chart-bar" style="height: 30%"></div>
                                    <div class="chart-bar" style="height: 50%"></div>
                                    <div class="chart-bar" style="height: 70%"></div>
                                    <div class="chart-bar" style="height: 90%"></div>
                                    <div class="chart-bar" style="height: 100%"></div>
                                    <div class="chart-bar" style="height: 85%"></div>
                                    <div class="chart-bar" style="height: 95%"></div>
                                </div>
                            </div>
                        </div>
                        <div class="chart-container">
                            <h4 class="chart-title">近7天投放创意数趋势</h4>
                            <p class="chart-subtitle">时间周期为01/10-01/15，每日12:00更新数据</p>
                            <div class="chart-placeholder">
                                <div class="chart-line">
                                    <svg viewBox="0 0 200 80" class="line-svg">
                                        <polyline points="0,60 30,55 60,50 90,45 120,40 150,35 180,30" fill="none" stroke="#FF6B35" stroke-width="2"/>
                                        <circle cx="180" cy="30" r="4" fill="#FF6B35"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 登录弹窗 -->
    <div class="modal-overlay" id="login-modal">
        <div class="modal-container login-modal">
            <button class="modal-close-btn" onclick="closeLoginModal()">✕</button>
            <div class="login-content">
                <h2 class="login-title">登录</h2>
                <form class="auth-form" id="login-form">
                    <div class="form-group">
                        <label>手机号</label>
                        <input type="tel" id="phone-input" placeholder="请输入手机号" maxlength="11">
                    </div>
                    <div class="form-group code-group">
                        <label>验证码</label>
                        <input type="text" id="code-input" placeholder="请输入验证码" maxlength="6">
                        <button type="button" class="get-code-btn" id="get-code-btn">获取验证码</button>
                    </div>
                    <button type="submit" class="submit-btn">登 录</button>
                </form>
                <div class="auth-footer">
                    <span>还没有账号？</span>
                    <a href="#">立即注册</a>
                </div>
                <div class="auth-agreement">
                    <label class="checkbox-label">
                        <input type="checkbox" id="agreement-checkbox">
                        <span>我已阅读并同意</span>
                    </label>
                    <a href="#">《用户协议》</a>和<a href="#">《隐私政策》</a>
                </div>
            </div>
        </div>
    </div>

    <!-- 生成中弹窗 -->
    <div class="modal-overlay" id="generating-modal">
        <div class="modal-container generating-modal">
            <div class="generating-content">
                <div class="loading-spinner"></div>
                <h3>正在生成中...</h3>
                <p class="generating-hint">AI正在为您创作精彩内容，请稍候</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="generate-progress"></div>
                </div>
                <p class="progress-text" id="progress-text">0%</p>
                <button class="cancel-btn" onclick="cancelGeneration()">取消生成</button>
            </div>
        </div>
    </div>

    <!-- Toast 提示 -->
    <div class="toast-container" id="toast-container"></div>

    <!-- 缩放提示 -->
    <div class="column-hint" id="scale-hint"></div>

    <!-- 脚本 -->
    <script src="js/app.js"></script>
    <script src="js/templates.js"></script>
    <script src="js/cases.js"></script>
    <script src="js/auth.js"></script>
</body>
</html>
